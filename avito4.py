def rename_file(img_filename):
    # Извлекаем данные из имени файла
    prefix, date_time, extension = img_filename.split('.')
    date_part = date_time.split('_')[1]  # извлекаем дату-время часть
    
    year = date_part[:4]
    month = date_part[4:6]
    day = date_part[6:8]
    
    # Преобразуем числовой месяц в текстовый формат
    months = {
        '01': 'Jan', '02': 'Feb', '03': 'Mar', '04': 'Apr',
        '05': 'May', '06': 'Jun', '07': 'Jul', '08': 'Aug',
        '09': 'Sep', '10': 'Oct', '11': 'Nov', '12': 'Dec'
    }
    month_text = months[month]
    
    # Составляем новое имя файла в требуемом формате
    new_filename = f"{year}_{month_text}_{day}_PYTHON_CONFERENCE.jpg"
    
    return new_filename

def main():
    import sys
    input_filename = sys.stdin.read().strip()
    
    new_filename = rename_file(input_filename)
    print(new_filename)

if __name__ == "__main__":
    main()


'''
Телефон Василия по умолчанию сохраняет фотографии в следующем формате:

IMG_20230430_092422111.jpg (Пример 1)

где:

IMG - префикс, который добавляет производитель телефона
2023 - год
04 - месяц
30 - день
09 - час GMT+0
24 - минута
22111 - микросекунды
jpg - расширение файла
Василий знает, что это фото с конференции по питону - и хочет переименовать файл на будущее. Из всех форматов, которые он перепробовал, самым подходящим показался следующий:

2023_Apr_30_PYTHON_CONFERENCE.jpg (Пример 2).

где:

PYTHON_CONFERENCE - название события
2023 - год
Apr - месяц
30 - день
jpg - расширение файла
Напишите программу, чтобы помочь Василию переименовать этот файл из первого формата во второй.

Условия:

На вход подаётся строка - название файла. Формат как в Примере 1.
На выходе ожидается строка - название файла. Формат как в Примере 2.
Проверка осуществляется на большом количестве тестовых "файлов", предполагается, что все фотографии с одного мероприятия, поэтому префикс "PYTHON_CONFERENCE" в финальном названии для всех них будет одинаковым.
Формат названий месяцев: Jan, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec

Sample Input 1:

IMG_20120427_1433383789.jpg
Sample Output 1:

2012_Apr_27_PYTHON_CONFERENCE.jpg
Sample Input 2:

IMG_20190830_143399492.jpg
Sample Output 2:

2019_Aug_30_PYTHON_CONFERENCE.jpg
Напишите программу. Тестируется через stdin → stdout


Как это работает:
Функция rename_file:

Принимает строку img_filename, которая содержит исходное имя файла.
Разделяет строку на префикс (не используется), дату-время и расширение файла.
Извлекает год, месяц и день из части с датой.
Преобразует числовой месяц в текстовый формат, используя словарь months.
Составляет новое имя файла в формате "год_месяц_день_PYTHON_CONFERENCE.jpg".
Возвращает новое имя файла.
Основная функция main:

Считывает строку с исходным названием файла из stdin.
Вызывает функцию rename_file с этой строкой.
Выводит новое имя файла на stdout.
Это решение обеспечивает преобразование входного имени файла в требуемый формат для всех заданных условий.
'''
